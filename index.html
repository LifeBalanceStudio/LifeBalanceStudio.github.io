<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>LifeBalance Studio</title>

  <!-- 픽셀 느낌 폰트 -->
  <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg:#0e0f1a;
      --fg:#e6f4f1;
      --accent:#69f0ae;
      --accent-dark:#3bd18d;
      --panel:#1b1d2e;
      --scanline: rgba(255,255,255,0.03);
      --gap-from-title: 28px;
      --page-side: 16px;

      /* 카드/미디어 기본값 */
      --media-size: 64px;
      --media-border: 2px;
      --media-outer: calc(var(--media-size) + var(--media-border) * 2);
	  --card-min: 240px;   /* 카드 최소 너비(원하는 값 조절) */
	  --card-max: 260px;   /* 카드 최대 너비(선택) */
	  
      /* 텍스트 좌측 살짝 밀기 */
      --text-gutter: 2px;

      /* 제목/설명 라인 및 간격(고정) */
      --title-lines: 1;         /* 제목 1줄 고정 */
      --title-lh: 1.6;
      --title-h: calc(1em * var(--title-lh) * var(--title-lines));

      --desc-lines: 4;          /* 설명 4줄 고정 */
      --desc-lh: 1.6;
      --desc-h: calc(1em * var(--desc-lh) * var(--desc-lines));

      --gap-media-title: 12px;  /* 이미지→제목 간격 */
      --gap-title-desc: 15px;   /* 제목→설명 간격(요청) */
      --gap-desc-links: 15px;   /* 설명→링크 간격(요청) */
    }

    * { box-sizing: border-box; }
    html, body {
      height: 100%;
      margin: 0;
      background:
        repeating-linear-gradient(to bottom, rgba(0,0,0,0) 0 2px, var(--scanline) 2px 3px),
        radial-gradient(circle at 10% 0%, #111427, #0b0c18 60%);
      background-color: var(--bg);
      color: var(--fg);
      font-family: "Press Start 2P", system-ui, -apple-system, Segoe UI, Roboto, "Apple SD Gothic Neo", "Noto Sans KR", sans-serif;
      image-rendering: pixelated;
      letter-spacing: 0.5px;
      cursor: crosshair;
      overflow-x: hidden;
    }

    /* 상단 타이틀 바 */
    .topbar {
      position: fixed;
      inset: 0 0 auto 0;
      display: flex;
      justify-content: center;
      padding: 18px 12px;
      z-index: 10;
    }
    .title {
      background: var(--panel);
      padding: 10px 14px;
      text-align: center;
      font-size: 14px;
      color: var(--accent);
      text-shadow: 0 0 8px rgba(105,240,174,0.6), 0 0 2px var(--accent-dark);
      box-shadow:
        0 0 0 4px #0a0b14,
        0 0 0 8px var(--accent),
        0 0 0 12px #0a0b14,
        0 6px 0 12px rgba(0,0,0,0.45);
    }

    .page {
      padding-top: 96px;
      padding-left: var(--page-side);
      padding-right: var(--page-side);
    }

    .hero {
      margin: var(--gap-from-title) auto 48px;
      max-width: 820px;
      display: flex;
      justify-content: center;
      align-items: flex-start;
    }

    .card {
      width: 100%;
      background: linear-gradient(180deg, #1d2136 0%, #171a2b 100%);
      padding: 28px 22px;
      text-align: center;
      font-size: 13px;
      line-height: 2;
      box-shadow:
        0 0 0 6px #0a0b14,
        0 0 0 12px var(--fg),
        0 0 0 18px #0a0b14,
        0 12px 0 18px rgba(0,0,0,0.55);
      position: relative;
    }
    .card::after{
      content:"";
      position:absolute;
      inset:-6px;
      pointer-events:none;
      outline: 4px solid rgba(105,240,174,0.25);
      filter: drop-shadow(0 0 6px rgba(105,240,174,0.35));
      clip-path: polygon(
        0 10px, 10px 10px, 10px 0,
        calc(100% - 10px) 0, calc(100% - 10px) 10px, 100% 10px,
        100% calc(100% - 10px), calc(100% - 10px) calc(100% - 10px),
        calc(100% - 10px) 100%, 10px 100%, 10px calc(100% - 10px), 0 calc(100% - 10px)
      );
      opacity:.6;
    }

    /* 문구 */
    .quote{
      display: inline-block;
      padding: 18px 16px;
      background: #0f1222;
      border: 4px solid var(--accent);
      box-shadow: inset 0 0 0 4px #0a0b14, 0 0 12px rgba(105,240,174,0.25);
      text-align: left;
    }
    .quote .line{ display:block; margin: 6px 0; white-space: pre-wrap; }
    .quote::before, .quote::after{
      content:"";
      display:block;
      height:4px; width: 100%;
      background: repeating-linear-gradient(90deg, var(--accent) 0 8px, transparent 8px 12px);
      margin: -10px auto 14px; opacity:.8;
    }
    .quote::after{ margin: 14px auto -10px; }

    .cursor{
      display:inline-block; width: 10px; height: 16px; margin-left: 6px;
      background: var(--accent); animation: blink .85s steps(1,end) infinite; vertical-align: baseline;
    }
    @keyframes blink { 50% { opacity: 0; } }

    /* 별 */
    .stars{
      position: fixed; inset: 0; pointer-events: none;
      background-image:
        radial-gradient(#ffffff 1px, rgba(255,255,255,0) 1px),
        radial-gradient(#8ef7cf 1px, rgba(255,255,255,0) 1px);
      background-position: 20% 30%, 80% 60%;
      background-size: 3px 3px, 2px 2px;
      opacity: .45; filter: contrast(130%); z-index: 0;
    }

    /* ===== 클릭 버스트 ===== */
    .burst{ position: fixed; left: 0; top: 0; width: 0; height: 0; pointer-events: none; z-index: 999;
      filter: drop-shadow(0 0 6px rgba(105,240,174,0.6)); }
    .px{ position: absolute; width: 4px; height: 4px; background: var(--accent);
      transform: translate(0,0) scale(1); opacity: 1; animation: pop 640ms ease-out forwards; }
    .px.alt { background: var(--fg); }
    @keyframes pop { 0%{opacity:1; transform:translate(0,0) scale(1);} 100%{opacity:0; transform:translate(var(--dx), var(--dy)) scale(0.9);} }

    /* ===== 드래그 트레일 ===== */
    .trail-layer{ position: fixed; inset: 0; pointer-events: none; z-index: 998; }
    .trail{ position: absolute; width: var(--s,4px); height: var(--s,4px); background: var(--accent);
      transform: translate(-50%,-50%) scale(1); opacity: 1; animation: trail-fade 520ms ease-out forwards; will-change: transform, opacity; }
    .trail.alt{ background: var(--fg); }
    @keyframes trail-fade{
      0%{ opacity:1; transform: translate(calc(-50% + var(--jx,0px)), calc(-50% + var(--jy,0px))) scale(1);}
      100%{ opacity:0; transform: translate(calc(-50% + var(--jx,0px)), calc(-50% + var(--jy,0px))) scale(0.7);}
    }

    /* ===== 게임 리스트 ===== */
    .list-wrap{ margin: 0 auto 80px; max-width: 980px; }
.list-title {
  font-size: 16px;               /* 8px, 16px 같이 정수 배수 크기 */
  line-height: 1;
  color: var(--accent);
  text-shadow:
    -1px -1px 0 #000000,  /* 좌상 */
     1px -1px 0 #000000,  /* 우상 */
    -1px  1px 0 #000000,  /* 좌하 */
     1px  1px 0 #000000;  /* 우하 */
}
    .carousel{ position: relative; display: flex; align-items: center; gap: 10px; }

    .track{
      flex:1;
      display:grid;
      grid-auto-flow:column;
      grid-auto-columns: clamp(var(--card-min), 28vw, var(--card-max));
      gap:12px;
      overflow-x:auto;

      /* 좌측으로 놓은 뒤 살짝 밀리는 현상 방지 */
      scroll-snap-type:x proximity;
      padding:8px;
      scroll-padding-inline:8px;

      border:4px solid var(--accent);
      background:#0f1222;
      box-shadow: inset 0 0 0 4px #0a0b14, 0 0 12px rgba(105,240,174,0.25);
      scrollbar-width: thin;
      overscroll-behavior-x: contain;
    }

    /* ===== 카드: 명시적 그리드 트랙(고정 Y 보장) ===== */
    .card-item{
      scroll-snap-align: start;
      scroll-snap-stop: always;
      background: linear-gradient(180deg, #1d2136 0%, #171a2b 100%);
      box-shadow: 0 0 0 4px #0a0b14, 0 0 0 8px var(--fg), 0 6px 0 8px rgba(0,0,0,0.45);
      padding: 14px;
      display: grid;
	  min-width: var(--card-min);
      /* 1 미디어 | 2 갭 | 3 제목(고정1줄) | 4 갭(15px) | 5 설명(고정4줄) | 6 갭(15px) | 7 링크  */
      grid-template-rows:
        var(--media-outer)
        var(--gap-media-title)
        var(--title-h)
        var(--gap-title-desc)
        var(--desc-h)
        var(--gap-desc-links)
        auto;

      row-gap: 0;
      align-items: start;
      min-height: 200px;
    }

    /* 미디어(행1) */
    .g-media{
      grid-row: 1;
      height: 100%;
      display: grid;
      align-content: start;
      justify-content: start;
      margin: 0; padding: 0;
    }
    .g-mediaBox{
      box-sizing: border-box;
      width: var(--media-size);
      height: var(--media-size);
      display: grid;
      place-items: center;
      background: #000;
      border: var(--media-border) solid var(--accent);
      overflow: hidden;
    }
    .g-image{ width: 100%; height: 100%; object-fit: cover; image-rendering: pixelated; border: 0 !important; display: block; }
    .g-emoji{ display: block; line-height: 1; font-size: 45px; transform: translateY(0); font-family: "Apple Color Emoji","Segoe UI Emoji","Noto Color Emoji", sans-serif; }

    /* 제목(행3) - 1줄 고정 + 좌측 여백 */
    .g-title{
      grid-row: 3;
      margin: 0;
      padding-left: var(--text-gutter);
      font-size: 13px;
      line-height: var(--title-lh);
      color: var(--fg);
      word-break: break-word;

      height: var(--title-h);
      display: -webkit-box;
      -webkit-line-clamp: var(--title-lines);
      -webkit-box-orient: vertical;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    /* 설명(행5) - 4줄 고정 + 좌측 여백 */
    .g-desc{
      grid-row: 5;
      margin: 0;
      padding-left: var(--text-gutter);
      font-size: 11px;
      line-height: var(--desc-lh);
      color: #cfece7;
	  white-space: pre-wrap;  /* 줄바꿈, 공백 유지 */
	  
      height: var(--desc-h);
      display: -webkit-box;
      -webkit-line-clamp: var(--desc-lines);
      -webkit-box-orient: vertical;
      overflow: hidden;
      text-overflow: ellipsis;

      align-self: start;
    }

    /* 링크(행7) - 항상 같은 Y에서 시작 + 좌측 여백 */
    .g-links{
      grid-row: 7;
      display: flex;
      flex-direction: column;
      gap: 6px;
      align-items: flex-start;
      justify-content: flex-start;
      padding-left: var(--text-gutter);
    }
    .g-link{
      display: block;                 /* 한 줄에 한 링크 */
      font-size: 10px;
      color: var(--accent);
      text-decoration: underline;
      word-break: break-word;
    }
    .g-link:focus-visible{ outline:2px dashed var(--accent); outline-offset:2px; }
    .g-link--disabled{
      color: #759a93;
      text-decoration: none;
      pointer-events: none;
      cursor: default;
      opacity: .85;
    }

    /* 슬라이더 버튼 */
    .nav-btn{
      flex: 0 0 auto; width: 44px; height: 44px;
      border: 4px solid var(--accent); background:#0f1222;
      box-shadow: inset 0 0 0 4px #0a0b14, 0 0 12px rgba(105,240,174,0.25);
      cursor: pointer; color: var(--fg); font-family: "Press Start 2P", sans-serif; font-size: 12px;
      display: grid; place-items: center; user-select: none;
    }
    .nav-btn:active{ transform: translateY(1px); }
    .nav-btn[disabled]{ opacity:.4; cursor: default; }

    /* 모션 선호도 접근성 */
    @media (prefers-reduced-motion: reduce){
      .px, .trail { animation-duration: 0ms; opacity: 0; }
    }
    @media (max-width:560px){
      .title{ font-size: 12px; }
      .card{ font-size: 12px; padding: 22px 14px; }
      .quote{ line-height: 1.8; }
      .g-title{ font-size: 12px; }
      .g-desc{ font-size: 10px; }
    }
  </style>
</head>
<body>
  <div class="stars" aria-hidden="true"></div>

  <header class="topbar" role="banner">
    <h1 class="title">LifeBalance Studio</h1>
  </header>

  <div class="page">
    <!-- 히어로(문구) -->
    <section class="hero" role="region" aria-labelledby="page-title">
      <div class="card" id="page-title">
        <p class="quote" aria-label="Studio message">
          <span class="line">“I make games.</span>
          <span class="line">The assets might be a bit rough,</span>
          <span class="line">but I’m taking my time making simple games.”<span class="cursor" aria-hidden="true"></span></span>
        </p>
      </div>
    </section>

    <!-- 게임 리스트: 슬라이더 -->
    <section class="list-wrap" aria-labelledby="game-list-title">
      <h2 class="list-title" id="game-list-title">My Games</h2>

      <div class="carousel">
        <button class="nav-btn" id="prevBtn" aria-label="이전">◀</button>
        <div class="track" id="track" role="list"></div>
        <button class="nav-btn" id="nextBtn" aria-label="다음">▶</button>
      </div>
    </section>
  </div>

  <!-- 드래그 트레일 레이어 -->
  <div class="trail-layer" id="trail-layer" aria-hidden="true"></div>

  <script>
    /* ========= 사용자 설정: 게임 데이터 ========= */
    const GAMES = [
      {
        title: "Uncap",
        desc: "Just uncap\nthe bottle cap.",
        image: "img/uncap.png",
        links: [
          { label: "Android", url: "https://play.google.com/store/apps/details?id=com.LifeBalance.Uncap" },
        ]
      },
      {
        title: "(In Progress)",
        desc: "You can play this game with up to both hands.",
        image: "img/questionmark.png",
        links: [
          { label: "Android(SOON)", url: ""}
        ]
      }
    ];

    // 접근성: 모션 최소화
    const REDUCED = window.matchMedia && window.matchMedia('(prefers-reduced-motion: reduce)').matches;

    /* ========= 클릭 버스트 ========= */
    function spawnBurst(x, y){
      if (REDUCED) return;
      const burst = document.createElement('div');
      burst.className = 'burst';
      burst.style.left = x + 'px';
      burst.style.top  = y + 'px';

      const COUNT = 28;
      for(let i=0; i<COUNT; i++){
        const p = document.createElement('span');
        p.className = 'px' + (i % 5 === 0 ? ' alt' : '');
        const angle = Math.random() * Math.PI * 2;
        const dist  = 40 + Math.random() * 120;
        const dx = Math.cos(angle) * dist;
        const dy = Math.sin(angle) * dist;
        const size = 2 + Math.floor(Math.random() * 5);
        p.style.width = size + 'px';
        p.style.height = size + 'px';
        p.style.setProperty('--dx', dx + 'px');
        p.style.setProperty('--dy', dy + 'px');
        p.style.animationDelay = (i * 6) + 'ms';
        burst.appendChild(p);
      }
      document.body.appendChild(burst);
      setTimeout(()=> burst.remove(), 800);
    }
    window.addEventListener('pointerdown', (e) => { spawnBurst(e.clientX, e.clientY); });

    /* ========= 드래그 트레일 ========= */
    (function(){
      if (REDUCED) return;
      const layer = document.getElementById('trail-layer');
      let drawing = false, lastX = 0, lastY = 0;
      const THRESHOLD = 6, MAX_QUEUE = 120;
      let queue = [], raf = null;

      function addTrail(x, y){
        const dot = document.createElement('span');
        dot.className = 'trail' + (Math.random() < 0.18 ? ' alt' : '');
        const jitter = 2;
        const jx = (Math.random() * jitter * 2 - jitter).toFixed(2);
        const jy = (Math.random() * jitter * 2 - jitter).toFixed(2);
        const size = (2 + Math.floor(Math.random() * 5)) + 'px';
        dot.style.left = x + 'px';
        dot.style.top  = y + 'px';
        dot.style.setProperty('--jx', jx + 'px');
        dot.style.setProperty('--jy', jy + 'px');
        dot.style.setProperty('--s', size);
        queue.push(dot);
        if (queue.length > MAX_QUEUE) queue.shift();
        if (!raf) raf = requestAnimationFrame(flush);
      }
      function flush(){
        const frag = document.createDocumentFragment();
        for (const el of queue) frag.appendChild(el);
        const layer = document.getElementById('trail-layer');
        layer.appendChild(frag);
        setTimeout(()=>{ for (const el of queue) el.remove(); }, 600);
        queue = []; raf = null;
      }
      function lineTrail(x0, y0, x1, y1){
        const dx = x1-x0, dy = y1-y0, dist = Math.hypot(dx,dy);
        const steps = Math.max(1, Math.floor(dist/THRESHOLD));
        for (let i=1;i<=steps;i++){ const t=i/steps; addTrail(x0+dx*t,y0+dy*t); }
      }
      window.addEventListener('pointerdown', (e)=>{ drawing=true; lastX=e.clientX; lastY=e.clientY; });
      window.addEventListener('pointermove', (e)=>{ if(!drawing) return; const x=e.clientX, y=e.clientY;
        if (Math.hypot(x-lastX,y-lastY) >= THRESHOLD){ lineTrail(lastX,lastY,x,y); lastX=x; lastY=y; } });
      function stop(){ drawing=false; }
      window.addEventListener('pointerup', stop); window.addEventListener('pointercancel', stop); window.addEventListener('blur', stop);
    })();

    /* ========= 게임 리스트 렌더링 ========= */
    (function renderGames(){
      const track = document.getElementById('track');
      const prevBtn = document.getElementById('prevBtn');
      const nextBtn = document.getElementById('nextBtn');
      track.innerHTML = "";

      for (const g of GAMES){
        const item = document.createElement('article');
        item.className = 'card-item';
        item.setAttribute('role', 'listitem');

        // ① 미디어(행1)
        const media = document.createElement('div');
        media.className = 'g-media';
        const box = document.createElement('div');
        box.className = 'g-mediaBox';
        if (g.image){
          const img = document.createElement('img');
          img.className = 'g-image';
          img.src = g.image;
          img.alt = g.title;
          box.appendChild(img);
        } else if (g.emoji){
          const em = document.createElement('span');
          em.className = 'g-emoji';
          em.textContent = g.emoji;
          box.appendChild(em);
        }
        media.appendChild(box);
        item.appendChild(media);

        // ② 제목(행3)
        const title = document.createElement('h3');
        title.className = 'g-title';
        title.textContent = g.title;
        item.appendChild(title);

        // ③ 설명(행5)
        const desc = document.createElement('p');
        desc.className = 'g-desc';
        desc.textContent = g.desc || "";
        item.appendChild(desc);

        // ④ 링크(행7)
        const linksWrap = document.createElement('div');
        linksWrap.className = 'g-links';

        (g.links || []).forEach(link => {
          const hasUrl = !!(link.url && link.url.trim() !== "");
          const text   = (link.label && link.label.trim() !== "")
                          ? link.label
                          : (hasUrl ? link.url : "Soon");

          const el = hasUrl ? document.createElement('a') : document.createElement('span');
          el.className = hasUrl ? 'g-link' : 'g-link g-link--disabled';
          el.textContent = text;

          if (hasUrl) {
            el.href = link.url;
            el.target = "_blank";
            el.rel = "noopener";
          } else {
            el.setAttribute('aria-disabled', 'true');
            el.tabIndex = -1;
          }

          linksWrap.appendChild(el);
        });

        item.appendChild(linksWrap);
        track.appendChild(item);
      }

      function scrollByCard(dir){
        const firstCard = track.querySelector('.card-item');
        const cardWidth = firstCard ? firstCard.getBoundingClientRect().width + 12 : 260;
        track.scrollBy({ left: dir * cardWidth, behavior: 'smooth' });
      }
      prevBtn.addEventListener('click', ()=> scrollByCard(-1));
      nextBtn.addEventListener('click', ()=> scrollByCard(1));

      track.addEventListener('keydown', (e)=>{
        if (e.key === 'ArrowRight'){ e.preventDefault(); scrollByCard(1); }
        if (e.key === 'ArrowLeft'){  e.preventDefault(); scrollByCard(-1); }
      });
      track.tabIndex = 0;
    })();
  </script>
</body>
</html>
